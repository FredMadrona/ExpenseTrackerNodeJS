<%- include("partials/header") %>

<div class="max-w-2xl mx-auto my-12 p-8 bg-white shadow-lg rounded-lg">
  <h2 class="text-3xl font-semibold text-center mb-6 text-blue-700">Update Expense</h2>

  <div class="mb-4">
    <a href="/" class="text-blue-600 hover:underline">&larr; Back</a>
  </div>

  <form action="/update-expense/<%= expense._id %>" method="post" class="space-y-6">

    <!-- Title -->
    <div>
      <label for="item" class="block text-sm font-medium text-gray-700">Expense Title</label>
      <input
        type="text"
        name="item"
        value="<%= expense.item %>"
        required
        class="mt-1 p-3 w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Type expense title here"
      />
    </div>

    <!-- Amount -->
    <div>
      <label for="amount" class="block text-sm font-medium text-gray-700">Amount</label>
      <input
        type="number"
        name="amount"
        value="<%= expense.amount %>"
        required
        class="mt-1 p-3 w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="How much did you spend?"
      />
    </div>
<!-- Category -->
<div>
  <label for="category" class="block text-sm font-medium text-gray-700">Category</label>
  <select
    name="category"
    id="category"
    required
    class="mt-1 p-3 w-full border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
  >
    <% categories.forEach(category => { %>
      <option value="<%= category %>" <%= expense.category === category ? 'selected' : '' %>>
        <%= category %>
      </option>
    <% }); %>
  </select>
</div>


    <!-- Date -->
    <div>
      <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
      <input
        type="date"
        name="date"
        value="<%= expense.date.toISOString().substring(0, 10) %>"
        required
        class="mt-1 p-3 w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Submit Button -->
    <div class="text-right">
      <button type="submit"
        class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        Save Changes
      </button>
    </div>
  </form>
</div>

<%- include("partials/footer") %>
